class Solution:
    def numberOfBoomerangs(self, points: List[List[int]]) -> int:
       
        from collections import Counter       
        
        ans = 0
        n = len(points)
        comb = fact = {}
        fact[1] = fact[0] = 1
        fact[2] = 2
        comb[0] = comb[1] = 0
        comb[2] = 2
        comb[3] = 6
        
        for i in range(3,10):
            fact[i] = fact[i-1]*i 
          
        
        for i in range(4, 10):
            comb[i] = fact[i]/fact[i-2]
        
        
        for i in range(n):
            d = Counter()
            for j in range(n):
                if i == j:
                    continue
                d[sum([(x-y)**2 for x, y in zip(points[i], points[j])])] += 1
                
            for x in d:
                ans += comb[d[x]]
                        
                    
        
        return int(ans)
    
